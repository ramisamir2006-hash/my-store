<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø±Ø§Ù…ÙŠ Ø³Ù…ÙŠØ±</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #eceff1; padding: 20px; }
        .admin-panel { background: white; max-width: 600px; margin: auto; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h2 { color: #c2185b; text-align: center; }
        input, select, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; }
        .btn-group { display: flex; gap: 10px; }
        button { flex: 1; padding: 15px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px; }
        .publish-btn { background: #d4af37; color: white; }
        .add-img-btn { background: #37474f; color: white; }
    </style>
</head>
<body>

<div class="admin-panel">
    <h2>ğŸš€ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù‚Ù†Ø§Ø©</h2>
    
    <input type="text" id="pName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ù…Ø«Ø§Ù„: Ø§Ù†Ø³ÙŠØ§Ù„ Ø´ÙˆÙŠÙƒØ§Ø±)">
    
    <select id="pCat">
        <option>Ø®ÙˆØ§ØªÙ…</option><option>Ø³Ù„Ø§Ø³Ù„</option><option>Ø§Ù†Ø³ÙŠØ§Ù„Ø§Øª</option>
        <option>Ø£Ø³Ø§ÙˆØ±</option><option>Ø­Ù„Ù‚</option><option>ØºÙˆØ§ÙŠØ´</option>
        <option>Ø·Ù‚Ù…</option><option>Ø´ÙˆÙŠÙƒØ§Ø±</option><option>Ø¨Ø±Ø³Ù†</option><option>Ø®Ù„Ø®Ø§Ù„</option>
    </select>

    <div class="btn-group">
        <input type="number" id="pPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± Ù‚Ø·Ø§Ø¹ÙŠ">
        <input type="number" id="pWholesale" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø¬Ù…Ù„Ø©">
    </div>

    <input type="text" id="pSize" placeholder="Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø© (Ù…Ø«Ø§Ù„: 18, 20, 22)">
    <input type="number" id="pDiscount" placeholder="Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ %)">
    
    <div id="images-container">
        <input type="text" class="img-input" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ 1">
    </div>
    <button class="add-img-btn" onclick="addImageField()">â• Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø£Ø®Ø±Ù‰</button>
    
    <hr>
    <button class="publish-btn" onclick="publish()">âœ¨ Ù†Ø´Ø± ÙÙŠ Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ø§Ù„Ø¢Ù†</button>
</div>

<script>
    function addImageField() {
        const input = document.createElement('input');
        input.className = 'img-input';
        input.placeholder = "Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø¥Ø¶Ø§ÙÙŠØ©";
        document.getElementById('images-container').appendChild(input);
    }

    async function publish() {
        const images = Array.from(document.querySelectorAll('.img-input')).map(i => i.value).filter(v => v);
        const data = {
            name: document.getElementById('pName').value,
            price: document.getElementById('pPrice').value,
            wholesale: document.getElementById('pWholesale').value,
            cat: document.getElementById('pCat').value,
            size: document.getElementById('pSize').value,
            discount: document.getElementById('pDiscount').value,
            images: images
        };

        const res = await fetch('/publish', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(data)
        });
        
        if(res.ok) alert("âœ… ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙˆØµÙ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠ ÙˆØ§Ù„Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­!");
    }
</script>
</body>
</html>
